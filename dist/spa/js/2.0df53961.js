(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{0:function(e,s){},1:function(e,s){},3:function(e,s){},4:function(e,s){},5:function(e,s){},6:function(e,s){},7:function(e,s){},8:function(e,s){},8041:function(e,s,t){"use strict";t("d924")},"8b24":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{},[t("q-scroll-area",{ref:"chatArea",staticClass:"chat-area"},e._l(e.messages,(function(e){return t("q-chat-message",{key:e.id,staticClass:"q-px-md q-pt-sm",class:{"message-out":"you"===e.author,"message-in":"you"!==e.author},attrs:{text:[e.body],sent:"bot"!=e.author,"bg-color":"bot"==e.author?"secondary":"#e0e0e0","text-color":"bot"==e.author?"white":"black"}})})),1),t("q-footer",{attrs:{elevated:""}},[t("q-toolbar",[t("q-form",{staticClass:"full-width",on:{submit:function(s){return e.sendMessage("out")}}},[t("q-input",{ref:"newMessage",staticClass:"full-width",attrs:{"bg-color":"white",rounded:"",placeholder:"Message",dense:"",outlined:""},model:{value:e.youMessage,callback:function(s){e.youMessage=s},expression:"youMessage"}},[[t("q-btn",{attrs:{round:"",dense:"",flat:"",type:"submit",icon:"send",color:"primary"}})]],2)],1)],1)],1)],1)},i=[];t("e6cf");const a=t("b2ba");var h={name:"PageIndex",data:()=>({botMessage:"",youMessage:"",history:[],messages:[{id:0,body:"Welcome to WeSafe! What's your emergency?",author:"bot"}]}),computed:{user(){return{name:"Davi",age:19}}},created(){this.synthesizeSpeech(this.messages[0].body)},methods:{async synthesizeSpeech(e){new AudioContext;const s=a.SpeechConfig.fromSubscription("80336464dd984e3489ab38cbb895823e","eastus");s.speechSynthesisOutputFormat=a.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm;const t=new a.SpeechSynthesizer(s,void 0);t.speakTextAsync(e,(e=>{const s=e.audioData;console.log(`Audio data byte size: ${s.byteLength}.`),t.close()}),(e=>{console.log(e),t.close()}))},postMessage(){},async bot(){let e="";const s=JSON.stringify(this.history);console.log(s,"inputtt"),0==this.history[0]?"[0]"==s?e="Is the victim you or someone else?":"[0,0]"==s?e="Is the victim having difficulty breathing?":"[0,0,0]"==s?e="Is the victim over 8 years old?":"[0,0,1]"==s?e="Is the victim conscious?":"[0,0,1,0]"==s||"[0,0,1,1]"==s?e="Is the victim over 8 years old?":"[0,0,0,1]"==s?e="ANSWER1":"[0,0,0,0]"==s?e="ANSWER2":"[0,0,1,0,0]"==s?e="ANSWER6":"[0,0,1,0,1]"==s?e="ANSWER5":"[0,0,1,1,0]"==s?e="ANSWER2":"[0,0,1,1,1]"==s?e="Is the victim Pregnant/Obese?":"[0,0,1,1,1,0]"==s?e="ANSWER3":"[0,0,1,1,1,1]"==s?e="ANSWER4":"[0,1]"===s?e="Are you having trouble breathing?":"[0,1,0]"==s?0==this.user.age.length?e="Are you over 8 years old?":this.user.age>8?(this.history.push(1),e="ANSWER1"):(this.history.push(0),e="ANSWER2+"):"[0,1,1]"==s?0==this.user.age.length?e="Are you over 8 years old?":this.user.age>8?(this.history.push(1),e="ANSWER3.2"):(this.history.push(0),e="Are you alone?"):"[0,1,0,0]"===s?e="ANSWER2+":"[0,1,0,1]"===s?e="ANSWER1":"[0,1,1,1]"===s?e="ANSWER3.2":"[0,1,1,0,0]"===s?e="ANSWER2+":"[0,1,1,0,1]"===s&&(e="CALL 911"):1==s[0]&&(e="other.1"),this.botMessage=e,await this.synthesizeSpeech(e),setTimeout((()=>{this.sendMessage("in")}),1500)},async createHistory(e){console.log("Hmessage",e),"no"===e?this.history.push(0):"yes"===e&&this.history.push(1),"chocking"===e&&this.history.push(0),"clear"===e&&this.clearAllMessages(),"me"===e?this.history.push(1):"other"===e&&this.history.push(0)},sendMessage(e){if(!this.youMessage&&!this.botMessage)return;"out"===e?(this.messages.push({body:this.youMessage,author:"you",id:this.messages.length}),this.createHistory(this.youMessage),this.youMessage="",this.bot()):"in"===e&&(this.messages.push({body:this.botMessage,author:"bot",id:this.messages.length}),this.botMessage=""),this.$refs.newMessage.focus();let s=this.$refs.chatArea;s.setScrollPosition(s.$el.scrollHeight,1)},clearAllMessages(){this.messages=[{id:0,body:"Welcome to WeSafe! What's your emergency?",author:"bot"}],this.history=[],this.synthesizeSpeech(this.messages[0].body)}}},n=h,r=(t("8041"),t("2877")),u=Object(r["a"])(n,o,i,!1,null,null,null);s["default"]=u.exports},9:function(e,s){},d924:function(e,s,t){}}]);